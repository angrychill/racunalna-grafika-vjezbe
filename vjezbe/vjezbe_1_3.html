<!doctype html>
<html lang="hr">
	<head>
		<meta charset="UTF-8">
		<title>Crtanje linija</title>
	</head>

	<body>
		<h1>Crtanje linija</h1>	
		<canvas id="canvas1" width="600" height="600" style="border:5px solid black">
			Va≈° preglednik ne podr≈æava HTML5 canvas.
		</canvas>

		<script>
		    window.onload = function() {
				// priprema
				var platno1 = document.getElementById("canvas1");
				if(!platno1) alert("Gre≈°ka - nema platna!");
				var w = platno1.width;
				var h = platno1.height;
				var g = platno1.getContext("2d");

				// prvo je coordinate grid koji ima razmak 40 toƒçaka
				var razmak = 40;
				g.moveTo(0,0);

				for (var i = 0; i<w; i = i+razmak){
					g.beginPath();
					g.moveTo(0,i);
					g.lineTo(w, i);
					g.strokeStyle = "gray";

					g.lineWidth = 0.5;
					g.stroke();
				}

				g.moveTo(0,0);

				for (var i = 0; i<h; i = i+razmak){
					g.beginPath();
					g.moveTo(i,0);
					g.lineTo(i, h);
					g.strokeStyle = "gray";
					
					g.lineWidth = 0.5;	
					g.stroke();
				}

				// x od -5 do 5
				// y od -5 do 5
				// ùë•‚Ä≤ = ùëù_ùë• + ùë†_ùë• * ùë•
				// ùë¶‚Ä≤ = ùëù_ùë¶ + ùë†_ùë¶ * ùë¶
				
				// y(x)=0.5*x^2-3
				g.beginPath();
				
				
				var period_start = 0;
				var period_end = 2*Math.PI;
				
				var x_min = -10;
				var x_max = 10;
				var y_min = -10;
				var y_max = 10;

			
				var s_x = w / (x_max -x_min);
				var s_y = -h / (y_max - y_min);
				var p_x = -s_x * x_min;
				var p_y = -s_y * y_max;
				
				console.log(s_x, s_y, p_x, p_y);
				// x os:
				// p_x i p_y su ishodiste
				g.beginPath();
				g.moveTo(0, p_y);
				g.lineTo(w, p_y);
				g.moveTo(p_x, 0);
				g.lineTo(p_x, h);
				g.strokeStyle = "black";
				g.lineWidth = 2;
				g.stroke()
				var step_size = 0.1;

				g.beginPath();
				g.moveTo(p_x, p_y);
				g.strokeStyle = "red";
				g.lineWidth = 2;
				for (var x = period_start; x<=period_end+step_size; x = x+step_size) {
					var y = Math.sin(x);

					
					var x_i = p_x + s_x * x;
					var y_i = p_y + s_y * y;

					g.lineTo(x_i, y_i);
					g.moveTo(x_i, y_i);
				}
				
				g.stroke();

            }

			function postaviNa(x, y) {

			}

			function linijaDo(x, y) {

			}

			function koristiBoju(c) {

			}
			function povuciLiniju() {
				
			}
			

		</script>
	</body>
</html>